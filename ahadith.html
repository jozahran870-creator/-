<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>الأحاديث</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #071226; /* كحلي داكن */
  color: #e6eef8;      /* نص فاتح للوضوح */
  padding: 20px;
}
h1 { text-align:center; color:#f6c84c; }
.search-box { text-align:center; margin-bottom:20px; }
input[type="text"] {
  padding:8px 12px;
  width: 60%;
  font-size:16px;
  border-radius:6px;
  border:1px solid #ccc;
}
.ahadith-list {
  max-width: 900px;
  margin: 0 auto;
}
.hadith {
  background:#0f1a2a; /* صندوق الحديث بلون أغمق */
  margin-bottom:15px;
  padding:15px;
  border-radius:8px;
  box-shadow:0 0 5px rgba(0,0,0,0.3);
}
.hadith strong {
  color:#f6c84c;
}
.pagination {
  text-align:center;
  margin-top:20px;
}
.page-btn {
  padding:6px 12px;
  margin:2px;
  cursor:pointer;
  border-radius:4px;
  border:none;
  background:#006400;
  color:white;
  font-weight:bold;
}
.page-btn:hover { background:#00ffcc; color:#000; }

/* سهم الرجوع */
.back-arrow {
  position: fixed;
  top: 60px;
  left: 20px;
  width: 50px;
  height: 50px;
  background-color: white;
  color: black;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 28px;
  cursor: pointer;
  text-decoration: none;
  box-shadow: 0 2px 6px rgba(0,0,0,0.3);
  z-index: 1000;
  transition: 0.3s;
}
.back-arrow:hover {
  background-color: #f6f6f6;
  transform: scale(1.1);
}
</style>
</head>
<body>

<a href="more.html" class="back-arrow" title="الصفحة السابقة">&#8592;</a>

<h1>الأحاديث</h1>

<div class="search-box">
  <input type="text" id="searchInput" placeholder="ابحث عن نص الحديث أو رقمه">
</div>

<div class="ahadith-list" id="ahadithList"></div>
<div class="pagination" id="pagination"></div>

<script>
let ahadith = [];
let currentPage = 1;
const limit = 20;

fetch('ahadith.json')
  .then(res => res.json())
  .then(data => {
    ahadith = data;
    renderPage();
    renderPagination();
  });

function renderPage() {
  const list = document.getElementById('ahadithList');
  list.innerHTML = '';
  const searchQuery = document.getElementById('searchInput').value.trim();
  let filtered = ahadith;
  if(searchQuery) {
    filtered = ahadith.filter(h => h.text.includes(searchQuery) || h.number == searchQuery);
  }
  const start = (currentPage-1)*limit;
  const end = start + limit;
  filtered.slice(start,end).forEach(h => {
    const div = document.createElement('div');
    div.className = 'hadith';
    div.innerHTML = `<strong>حديث رقم ${h.number}</strong><p>${h.text}</p>`;
    list.appendChild(div);
  });
}

function renderPagination() {
  const pag = document.getElementById('pagination');
  pag.innerHTML = '';
  const totalPages = Math.ceil(ahadith.length/limit);
  for(let i=1;i<=totalPages;i++){
    const btn = document.createElement('button');
    btn.className='page-btn';
    btn.textContent=i;
    btn.onclick = ()=> { currentPage=i; renderPage(); };
    pag.appendChild(btn);
  }
}

document.getElementById('searchInput').addEventListener('input', ()=>{
  currentPage=1;
  renderPage();
});
</script>

</body>
</html>
